specVersion: '2.6'
metadata:
  name: 000-ui5-template
type: application
builder:
  customTasks:
  # UI5 task for transpiling ES6+ sources
  - name: ui5-task-transpile
    afterTask: replaceVersion
    configuration:
      debug: true
      removeConsoleStatements: true
      transpileAsync: true
      excludePatterns:
      - "lib/"
      - "another/dir/in/webapp"
      - "yet/another/dir"
  # UI5 Tooling Extensions: ui5-tooling-modules
  - name: ui5-tooling-modules-task
    afterTask: replaceVersion
  resources:
    excludes:
      - "/test/**"
      - "/localService/**"
      - "/test-resources/"
framework:
  name: SAPUI5
  version: "1.92.2"
  libraries:
    - name: sap.f
    - name: sap.m
    - name: sap.ui.core
    - name: sap.ui.table
    - name: sap.ushell
      development: true
    - name: themelib_sap_fiori_3
server:
  customMiddleware:
    - name: ui5-middleware-simpleproxy
      afterMiddleware: compression
      mountPath: /Northwind/V2/Northwind/Northwind.svc/
      configuration:
        debug: true
        baseUri: https://services.odata.org/V2/Northwind/Northwind.svc/
    - name: ui5-tooling-modules-middleware
      afterMiddleware: compression
    - name: ui5-middleware-livereload
      afterMiddleware: compression
      configuration:
        extraExts: "xml,json,properties"
        path: "webapp"
    # - name: ui5-middleware-simpleproxy
    #   mountPath: /resources
    #   afterMiddleware: compression
    #   configuration:
    #     roothPath: ${env.SAPUI5_SDK_RESOURCES}
    - name: ui5-middleware-servestatic
      afterMiddleware: compression
      mountPath: /resources/library/reuse
      configuration:
        rootPath: "node_modules/ui5-library-reuse/src/ui5/library/template"